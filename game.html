<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>2048</title>

  <link href="style/main.css" rel="stylesheet" type="text/css">
  <link href="style/ai.css" rel="stylesheet" type="text/css">
  <link rel="shortcut icon" href="favicon.ico">

  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <script src="js/animframe_polyfill.js"></script>
  <script src="js/hammer.min.js"></script>
  <script src="js/keyboard_input_manager.js"></script>
  <script src="js/html_actuator.js"></script>
  <script src="js/grid.js"></script>
  <script src="js/tile.js"></script>
  <script src="js/ai.js"></script>
  <script src="js/game_manager.js"></script>
  <script src="js/application.js"></script>

 </head>
<body>
  <div class="container">
    <div class="title-2048">
      <h1>Game 2048 - Th·∫Øng b√† s·∫Ω th·∫•y ƒëi·ªÅu ƒë·∫∑c bi·ªát</h1>
    </div>
    <div class='controls' style="display:none;">
      <div id='hint-button-container'>
        <button id='hint-button' class='ai-button'>G√† qu√° ƒë·ªÉ tui ch·ªâ cho n√®</button>
      </div>
      <div id='feedback-container'> </div>
      <div id='run-button-container'>
        <button id='run-button' class='ai-button'>D·ª° gh√™ ƒë·ªÉ tui ch∆°i cho</button>
      </div>
    </div>

    <div class="game-container">
      <div class="game-message">
        <p></p>
        <div class="lower">
          <a class="retry-button">Ch∆°i l·∫°i ƒëi b√† üòú</a>
          <div class="score-sharing"></div>
        </div>
      </div>

      <div class="grid-container">
        <div class="grid-row">
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
        </div>
        <div class="grid-row">
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
        </div>
        <div class="grid-row">
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
        </div>
        <div class="grid-row">
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
        </div>
      </div>

      <div class="tile-container">

      </div>
    </div>
  </div>
  <script>
    window.addEventListener("load", function () {
      if (location.hash === "#run-button") {
        var btn = document.getElementById("run-button");
        if (btn) btn.click();
      }
    });

    document.addEventListener('DOMContentLoaded', function () {
      var board = document.querySelector('.game-container');
      var hamm = Hammer(board, {
        prevent_default: true,
        drag_lock_to_axis: true,
        drag_block_horizontal: true,
        drag_block_vertical: true,
        swipe_velocity: 0.2,
        drag_min_distance: 10
      });

      // map swipe -> move c·ªßa 2048 (0=up,1=right,2=down,3=left)
      var input = window.inputManager || new KeyboardInputManager();
      hamm.on('swipeleft',  function(){ input.emit('move', 3); });
      hamm.on('swiperight', function(){ input.emit('move', 1); });
      hamm.on('swipeup',    function(){ input.emit('move', 0); });
      hamm.on('swipedown',  function(){ input.emit('move', 2); });
    });

  </script>
</body>
</html>
